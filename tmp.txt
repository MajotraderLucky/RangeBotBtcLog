package main

import (
	"os"
	"testing"
)

type AutoGeneratedPos struct{
	Positions []Position
}

type Position struct {
	UpdateTime       int64
	Symbol           string
	PositionSide     string
	PositionAmt      string
	UnrealizedProfit string
	EntryPrice       string
}

func TestEmptyDataNoBTCUSDTPosition(t *testing.T) {
	data := AutoGeneratedPos{}        // пустые данные

	// Выводимый файл
	filePath := "logs/positions.json"

	// Вызываем функцию с пустыми данными
	err := WritePositionsToFile(data)
	if err == nil {
		t.Errorf("Функция не вернула ошибку при пустых данных")
	}

	// Проверяем, что файл не был создан
	if _, err := os.Stat(filePath); !os.IsNotExist(err) {
		t.Errorf("Файл %s был создан, хотя не должен был", filePath)
	}
}
